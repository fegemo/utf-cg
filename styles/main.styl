@import '@highlightjs/cdn-assets/styles/vs.css'

// variables
$page-header-height = 0.75vw
$page-header-height-portrait = 1.25vh
$page-header-height-expanded = 4vw
$page-header-height-expanded-portrait = 12vh
$header-background = #dcd6f3
$accent-color = #3507a3

// general tags
html, body
  height 100%
  overflow hidden


// header and presentation-container layout
body
  background $header-background

#page-header
  padding 0
  font-size $page-header-height
  transition height 200ms ease-out, transform 200ms ease-out
  transform translate3d(0, -($page-header-height / 2), 0)
  &:hover,
  &.showing
    transform translate3d(0, 0, 0)
    + #presentation-container
      transform translate3d(0, $page-header-height-expanded, 0)
      box-shadow -16px 0 24px #0006
    #page-title
      padding-top 2vh
      padding-bottom 2vh
      opacity 1
    .page-author-picture
      transform translate3d(0,0,0) rotateZ(0deg)
      opacity 1

@media screen and (orientation: portrait)
  #page-header
    font-size $page-header-height-portrait
    &:hover + #presentation-container
      transform translate3d(0, $page-header-height-expanded-portrait, 0)

#page-title
  margin 0 0.25em
  vertical-align top
  padding-bottom "calc(%s - %s)" % ($page-header-height-expanded $page-header-height)
  font-weight bold
  text-shadow 0.015em 0.015em black
  opacity 0.25
  transition all 200ms ease
  a:link
    color $accent-color !important

#page-author
  display inline-block
  float right
  margin 8px

#page-author-name
  display none

.page-author-picture
  width 60px
  height @width
  border-radius 50%
  opacity .3
  transform translate3d(-200%,0,0) rotateZ(-270deg)
  transition transform 700ms cubic-bezier(0.18, 0.89, 0.32, 1.28)  0s, opacity 700ms ease-out 0s

#presentation-container
  position absolute
  top 0
  height "calc(100vh - %s)" % $page-header-height
  width 100%
  transform translate3d(0, $page-header-height, 0)
  transition transform 300ms ease, box-shadow 300ms ease
  box-shadow -4px 0 8px #000a


// codeblocks opener styles
a[href^="codeblocks:"]
  &:before
    content ' '
    display inline-block
    width 16px
    height 16px
    background-image url(../images/icon-codeblocks.png)
    background-repeat no-repeat
    background-size contain
    vertical-align middle
    margin-right 5px


// BEGIN OF move to theme
// override theme styles (move to theme?)
#presentation
  background-image radial-gradient(circle 700px at -10% 110%, #845ec2e6 0%, #c4f3fb00 90%), 
    radial-gradient(circle 500px at 100% 0%, #ad83b1e6 0%, #c4f3fb00 90%),
    linear-gradient(to right bottom, #a9caff 0%, #b8cbff 16.667%, #d3cbff 33.333%, #fae1ff 50%, #ffe7f9 66.667%, #f9cbeb 83.333%, #ffbaec 100%)
  color black

.bespoke-simple-overview
  .bespoke-slide
    outline-color #a39dff
    &.bespoke-active
      outline-color #4f4a9c

.layout-stripe.bespoke-slide .stripe
  filter hue-rotate(141deg)


// fixes ugly shadow overflow (move to theme?)
.layout-2-column-highlight-and-list.bespoke-active>:nth-child(2)
  transform rotateY(30deg) scale(.9) // it's scale(1) on the theme

.layout-title.bespoke-slide h2
  box-sizing border-box // no idea why it's content-box on the theme...

// END OF move to theme


@import utilities
@import book
@import tutorial
@import backdrops
@import layouts

// Print styles
@media print
  #page-header
    display none !important
  .book-cover
    height 150px !important
